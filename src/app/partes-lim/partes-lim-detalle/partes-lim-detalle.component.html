<p>
  Detalle del parte
</p>

<form novalidate [formGroup]="parteForm" (ngSubmit)="onSubmit(parteForm)">
  <div>
    <label for="municipio">Municipio</label>
    <select
      placeholder="Introduce municipio"
      name="municipio"
      formControlName="municipio">
      <option value="Benidorm" selected="selected">Benidorm</option>
      <option value="Finestrat">Finestrat</option>    
    </select>
    <div *ngIf="parteForm.controls['municipio'].hasError('required') && parteForm.controls['municipio'].touched">Campo municipio necesario.</div>    
  </div>   
  <div>
    <label for="fecha">Fecha</label>
    <input
      type="date"
      placeholder="Introduce fecha"
      name="fecha"
      formControlName="fecha">
    <div *ngIf="parteForm.controls['fecha'].hasError('required') && parteForm.controls['fecha'].touched">Campo fecha necesario.</div>
  </div>
  <div>
    <label for="lugar">Playa</label>
    <select
      placeholder="Introduce playa"
      name="lugar"
      formControlName="lugar">
      <option value="Levante y Calas">Levante y Calas</option>
      <option value="Poniente y Mal Pas">Poniente y Mal Pas</option>
      <option value="Finestrat">Finestrat</option>      
    </select>
    <div *ngIf="parteForm.controls['lugar'].hasError('required') && parteForm.controls['lugar'].touched">Campo playa necesario.</div>    
  </div> 
  <div>
    <label for="turno">Turno</label>
    <select
      placeholder="Introduce turno"
      name="turno"
      formControlName="turno">
      <option value="Mañana">Mañana</option>
      <option value="Tarde">Tarde</option>
      <option value="Noche">Noche</option>
    </select>
    <div *ngIf="parteForm.controls['turno'].hasError('required') && parteForm.controls['turno'].touched">Campo turno necesario.</div>    
  </div>  
  <div>
    <label for="tipo">Tipo de limpieza</label>
    <select
      placeholder="Introduce tipo"
      name="tipo"
      formControlName="tipo">
      <option value="Manual">Manual</option>
      <option value="Tractor">Tractor</option>
    </select>
    <div *ngIf="parteForm.controls['tipo'].hasError('required') && parteForm.controls['tipo'].touched">Campo tipo necesario.</div>    
  </div>   
  <div>
    <label for="operario">Conductor</label>
    <select
      placeholder="Introduce conductor"
      name="operario"
      formControlName="operario">    
      <option *ngFor="let unOperario of listaOperarios; let i=index" [ngValue]="unOperario.nombre">{{ unOperario.nombre }}</option>
    </select>    
  </div>   
  <div>
    <label for="vehiculo">Vehiculo</label>
    <select
      placeholder="Introduce vehiculo"
      name="vehiculo"
      formControlName="vehiculo">
      <option *ngFor="let unVehiculo of listaVehiculos; let i=index" [ngValue]="unVehiculo.matricula">{{ unVehiculo.matricula }} - {{ unVehiculo.nombre }}</option>    
    </select>
  </div>   
  <div>
    <label for="numero_ops">Numero de operarios</label>
    <input
      type="number"
      placeholder="Numero de operarios"
      name="numero_ops"
      formControlName="numero_ops">
      <button type="button" (click)="setOperariosTemporada(1)">TEMPORADA BAJA</button>
      <button type="button" (click)="setOperariosTemporada(2)">TEMPORADA ALTA</button>
  </div>  
  <div>
    <label for="observacion_ayto">Ayuntamiento</label>
    <textarea
      name="observacion_ayto"
      rows="10"
      cols="50"
      formControlName="observacion_ayto">
    </textarea>
  </div> 
  <div>
    <label for="observacion_ra">RA</label>
    <textarea
      name="observacion_ra"
      rows="10"
      cols="50"
      formControlName="observacion_ra">
    </textarea>
  </div>     
  <div formArrayName="estadisticas">
    <label>Incidencias para control estadistico</label>
    <div>
      <select #estadisticaSeleccionada>
        <option *ngFor="let unaEstadistica of listaEstadisticas; let i=index">{{ unaEstadistica.nombre }}</option>
      </select>
    </div>
    <button type="button" (click)="onMasEstadsitica(estadisticaSeleccionada.value)">Añade
      iniccidencia
    </button>
    <div *ngFor="let estadisticaControl of estadisticas.controls; let i=index">
      <div [formGroupName]="i">
          <input      
            type="text"
            name="estadistica"
            formControlName="estadistica"
            readonly>
        <div>
          <button type="button" (click)="onQuitaEstadistica(i)">Quitar</button>
        </div>
      </div>
    </div>
  </div>  
  <div formGroupName="pesos">
    <p>
      PESOS
    </p>
    <div>
      <label for="rsu_manual">
        RSU
      </label>
      <input    
        type="number"
        placeholder="Introduce peso RSU"
        name="rsu_manual"
        formControlName="rsu_manual">
    </div>
    <div>
      <label for="rsu_criba">
        RSU Cribadora
      </label>
      <input     
        type="number"
        placeholder="Introduce peso RSU cribadora"
        name="rsu_criba"
        formControlName="rsu_criba">
    </div>
    <div>
      <label for="selectivo">
        Selectivo
      </label>
      <input     
        type="number"
        placeholder="Introduce peso SELECTIVO"
        name="selectivo"
        formControlName="selectivo">
    </div>
    <div>
      <label for="algas_pesadas">
        Algas pesadas
      </label>
      <input     
        type="number"
        placeholder="Introduce peso ALGAS PESADAS"
        name="algas_pesadas"
        formControlName="algas_pesadas">
    </div>
    <div>
      <label for="algas_teoricas">
        Algas teoricas
      </label>
      <input     
        type="number"
        placeholder="Introduce peso ALGAS TEORICAS"
        name="algas_teoricas"
        formControlName="algas_teoricas">
      </div>
  </div>
  <div formGroupName="horarios">
    <p>
      HORARIOS
    </p>
    <div>
      <label for="salida_almacen">
        Salida de almacen
      </label>
      <input     
        type="time"
        placeholder="Introduce hora SALIDA ALMACEN"
        name="salida_almacen"
        formControlName="salida_almacen">
    </div>
    <div>
      <label for="salida_playa">
        Salida de la playa
      </label>
      <input
        type="time"
        placeholder="Introduce hora SALIDA PLAYA"
        name="salida_playa"
        formControlName="salida_playa">
    </div>
    <div>
      <label for="llegada_almacen">
        Llegada al almacen
      </label>
      <input     
        type="time"
        placeholder="Introduce hora LLEGADA ALMACEN"
        name="llegada_almacen"
        formControlName="llegada_almacen">
    </div>
  </div>
  <div>
    <label for="bolsas">
      Bolsas de basura utilizadas
    </label>
    <input
      type="number"
      placeholder="Introduce bolsas de basura utilizadas"
      name="bolsas"
      formControlName="bolsas"> 
  </div>
  <div>
    <button class="btn btn-success" type="submit" [disabled]="!parteForm.valid">GUARDAR</button>
    <button class="btn btn-warning" type="button" (click)="onCancelar()">CANCELAR</button>
    <button class="btn btn-danger" type="button" (click)="onBorrar(parteForm)" [disabled]="!enEdicion">BORRAR</button>
  </div>    
</form>